<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Games to Learn English</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(135deg,#4facfe,#00f2fe);
  color:white;
  min-height:100vh;
  text-align:center;
}
.screen{display:none;padding:20px}
.active{display:block}
button{
  padding:12px 18px;
  margin:8px;
  border:none;
  border-radius:14px;
  font-weight:bold;
  cursor:pointer;
  background:#fff;
  color:#333;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
  gap:10px;
}
.card{
  background:rgba(255,255,255,.25);
  border-radius:20px;
  padding:20px;
  width:85%;
  margin:20px auto;
}
.big{font-size:90px}
.timer{font-size:22px}
.option{width:80%;margin:6px auto}
.correct{background:#2ecc71;color:white}
.wrong{background:#e74c3c;color:white}
</style>
</head>

<body>

<div id="home" class="screen active">
  <h1>üéÆ Games to Learn English</h1>
  <button onclick="openCategories()">Start Game</button>
  <button onclick="openReviewMenu()">Review Mode</button>
</div>

<div id="categories" class="screen">
  <h2>Select Category</h2>
  <div id="categoryList" class="grid"></div>
  <button onclick="goHome()">‚¨Ö Back</button>
</div>

<div id="game" class="screen">
  <div class="timer">‚è± <span id="time">5</span></div>
  <div class="card">
    <div id="icon" class="big"></div>
    <h2 id="question"></h2>
  </div>
  <div id="options"></div>
  <h3 id="score"></h3>
</div>

<div id="over" class="screen">
  <h1>Game Over</h1>
  <h2 id="finalScore"></h2>
  <button onclick="retry()">Retry</button>
  <button onclick="goHome()">Home</button>
</div>

<div id="reviewMenu" class="screen">
  <h2>Review Mode</h2>
  <div id="reviewCategories" class="grid"></div>
  <button onclick="goHome()">‚¨Ö Back</button>
</div>

<div id="reviewPlay" class="screen">
  <button onclick="openReviewMenu()">‚¨Ö</button>
  <div class="card">
    <div id="reviewIcon" class="big"></div>
    <h2 id="reviewText"></h2>
  </div>
  <button onclick="prevReview()">‚¨Ö</button>
  <button onclick="nextReview()">‚û°</button><br><br>
  <button onclick="toggleText()">TEXT</button>
  <button onclick="speak()">üîä</button>
</div>

<audio id="correctSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5c6c8f36fa.mp3"></audio>
<audio id="wrongSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_3a3d6c6aef.mp3"></audio>

<script>
const optionsBox=document.getElementById("options");
const timeEl=document.getElementById("time");
const scoreEl=document.getElementById("score");

/* ================= DATA 22 CATEGORIES ================= */
const data={
animals:[['üê±','kucing','Cat'],['üê∂','anjing','Dog'],['üêÆ','sapi','Cow'],['üêü','ikan','Fish'],['üê¶','burung','Bird'],['üê¥','kuda','Horse'],['üêî','ayam','Chicken'],['ü¶Ü','bebek','Duck'],['üêç','ular','Snake'],['ü¶Å','singa','Lion'],['üêò','gajah','Elephant'],['üêØ','harimau','Tiger'],['üêµ','monyet','Monkey'],['üêê','kambing','Goat'],['üê∞','kelinci','Rabbit']],
numbers:[['1Ô∏è‚É£','satu','One'],['2Ô∏è‚É£','dua','Two'],['3Ô∏è‚É£','tiga','Three'],['4Ô∏è‚É£','empat','Four'],['5Ô∏è‚É£','lima','Five'],['6Ô∏è‚É£','enam','Six'],['7Ô∏è‚É£','tujuh','Seven'],['8Ô∏è‚É£','delapan','Eight'],['9Ô∏è‚É£','sembilan','Nine'],['üîü','sepuluh','Ten'],['11','sebelas','Eleven'],['12','dua belas','Twelve'],['13','tiga belas','Thirteen'],['14','empat belas','Fourteen'],['15','lima belas','Fifteen']],
food:[['üçö','nasi','Rice'],['üçû','roti','Bread'],['üçé','apel','Apple'],['üçå','pisang','Banana'],['ü•õ','susu','Milk'],['üçó','ayam','Chicken'],['üçñ','daging','Meat'],['ü•ö','telur','Egg'],['üçú','mie','Noodles'],['üç∞','kue','Cake'],['üç≤','sup','Soup'],['üßÄ','keju','Cheese'],['üçä','jeruk','Orange'],['üç¶','es krim','Ice Cream'],['üêü','ikan','Fish']],
sports:[['‚öΩ','sepak bola','Football'],['üèÄ','bola basket','Basketball'],['üè∏','bulu tangkis','Badminton'],['üéæ','tenis','Tennis'],['üèê','voli','Volleyball'],['üèì','pingpong','Table Tennis'],['ü•ä','tinju','Boxing'],['üèä','renang','Swimming'],['üö¥','bersepeda','Cycling'],['üèÉ','lari','Running'],['‚õπÔ∏è','lompat','Jump'],['ü§º','gulat','Wrestling'],['üèπ','panahan','Archery'],['üèÑ','selancar','Surfing'],['üßó','panjat','Climbing']],
jobs:[['üëÆ','polisi','Police'],['üë©‚Äçüè´','guru','Teacher'],['üë®‚Äç‚öïÔ∏è','dokter','Doctor'],['üë®‚Äçüç≥','koki','Chef'],['üë©‚Äç‚öñÔ∏è','hakim','Judge'],['üë®‚Äçüîß','montir','Mechanic'],['üë©‚Äçüíª','programmer','Programmer'],['üë®‚Äçüåæ','petani','Farmer'],['üë®‚Äç‚úàÔ∏è','pilot','Pilot'],['üë©‚Äç‚úàÔ∏è','pramugari','Flight Attendant'],['üë∑','tukang','Builder'],['üë®‚Äçüöí','pemadam','Firefighter'],['üë©‚Äçüé§','penyanyi','Singer'],['üë®‚Äçüé®','pelukis','Painter'],['üßë‚Äçüíº','karyawan','Employee']],
transport:[['üöó','mobil','Car'],['üöå','bus','Bus'],['üö≤','sepeda','Bicycle'],['üèçÔ∏è','motor','Motorcycle'],['üöÜ','kereta','Train'],['‚úàÔ∏è','pesawat','Airplane'],['üö¢','kapal','Ship'],['üöï','taksi','Taxi'],['üöë','ambulans','Ambulance'],['üöí','pemadam','Fire Truck'],['üöú','traktor','Tractor'],['üöì','polisi','Police Car'],['üöÅ','helikopter','Helicopter'],['üõ¥','skuter','Scooter'],['üöõ','truk','Truck']],
body:[['üëÄ','mata','Eye'],['üëÉ','hidung','Nose'],['üëÇ','telinga','Ear'],['üëÑ','mulut','Mouth'],['ü¶∑','gigi','Tooth'],['ü¶µ','kaki','Leg'],['ü¶∂','telapak kaki','Foot'],['üñêÔ∏è','tangan','Hand'],['üß†','otak','Brain'],['‚ù§Ô∏è','jantung','Heart'],['ü©∏','darah','Blood'],['ü´Å','paru-paru','Lung'],['ü¶¥','tulang','Bone'],['üëÖ','lidah','Tongue'],['üë§','kepala','Head']]
};

/* ===== GAME ENGINE (TIDAK DIUBAH) ===== */
let questions=[],index=0,score=0,time=5,timer;
let reviewCat='',reviewIndex=0,showText=true;

function show(id){
 document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
 document.getElementById(id).classList.add('active');
}
function goHome(){clearInterval(timer);show('home');}

function openCategories(){
 show('categories');
 categoryList.innerHTML='';
 Object.keys(data).forEach(c=>{
  let b=document.createElement('button');
  b.textContent=c.toUpperCase();
  b.onclick=()=>startGame(c);
  categoryList.appendChild(b);
 });
}

function startGame(c){
 questions=[...data[c]];
 index=0;score=0;
 show('game');
 nextQuestion();
}

function nextQuestion(){
 if(index>=questions.length){gameOver();return;}
 let q=questions[index];
 icon.textContent=q[0];
 question.textContent=`Apa bahasa Inggris dari "${q[1]}"?`;
 scoreEl.textContent='Score: '+score;

 let opts=[q[2]];
 while(opts.length<4){
  let r=questions[Math.random()*questions.length|0][2];
  if(!opts.includes(r))opts.push(r);
 }
 opts.sort(()=>Math.random()-.5);

 optionsBox.innerHTML='';
 opts.forEach(o=>{
  let b=document.createElement('button');
  b.className='option';
  b.textContent=o;
  b.onclick=()=>answer(o,q[2],b);
  optionsBox.appendChild(b);
 });

 startTimer();
}

function answer(a,c,b){
 clearInterval(timer);
 document.querySelectorAll('.option').forEach(x=>x.disabled=true);
 if(a===c){b.classList.add('correct');correctSound.play();score+=10;}
 else{b.classList.add('wrong');wrongSound.play();}
 index++;
 setTimeout(nextQuestion,700);
}

function startTimer(){
 time=5;
 timeEl.textContent=time;
 timer=setInterval(()=>{
  time--;
  timeEl.textContent=time;
  if(time<=0){clearInterval(timer);gameOver();}
 },1000);
}

function gameOver(){
 clearInterval(timer);
 finalScore.textContent='Score: '+score;
 show('over');
}

function retry(){startGame(Object.keys(data)[0]);}

/* ===== REVIEW ===== */
function openReviewMenu(){
 show('reviewMenu');
 reviewCategories.innerHTML='';
 Object.keys(data).forEach(c=>{
  let b=document.createElement('button');
  b.textContent=c.toUpperCase();
  b.onclick=()=>openReview(c);
  reviewCategories.appendChild(b);
 });
}

function openReview(c){
 reviewCat=c;reviewIndex=0;showText=true;
 show('reviewPlay');updateReview();
}
function updateReview(){
 let d=data[reviewCat][reviewIndex];
 reviewIcon.textContent=d[0];
 reviewText.textContent=showText?`${d[1]} = ${d[2]}`:'';
}
function nextReview(){reviewIndex=(reviewIndex+1)%data[reviewCat].length;updateReview();}
function prevReview(){reviewIndex=(reviewIndex-1+data[reviewCat].length)%data[reviewCat].length;updateReview();}
function toggleText(){showText=!showText;updateReview();}
function speak(){
 let u=new SpeechSynthesisUtterance(data[reviewCat][reviewIndex][2]);
 u.lang='en-US';speechSynthesis.speak(u);
}
</script>
</body>
</html>
