<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>English Learning Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
 margin:0;
 font-family:Arial,Helvetica,sans-serif;
 background:linear-gradient(135deg,#4facfe,#00f2fe);
 min-height:100vh;
 color:#fff;
 text-align:center;
}
.hidden{display:none}
.container{
 max-width:520px;
 margin:auto;
 padding:20px;
}
.card{
 background:rgba(255,255,255,.15);
 border-radius:20px;
 padding:20px;
 margin-top:20px;
 backdrop-filter:blur(10px);
 box-shadow:0 10px 30px rgba(0,0,0,.3);
}
.btn{
 width:100%;
 padding:14px;
 border:none;
 border-radius:16px;
 margin:8px 0;
 font-size:16px;
 font-weight:bold;
 cursor:pointer;
 background:#fff;
 color:#0077ff;
}
.btn.dark{
 background:#222;
 color:#fff;
}
.grid{
 display:grid;
 grid-template-columns:repeat(auto-fill,minmax(140px,1fr));
 gap:10px;
}
.option{
 background:#fff;
 color:#0077ff;
 padding:12px;
 border-radius:14px;
 margin:6px 0;
 cursor:pointer;
 font-weight:bold;
}
.correct{background:#2ecc71;color:#000}
.wrong{background:#e74c3c;color:#fff}
.timer{font-size:18px;font-weight:bold}
.big{font-size:80px}
</style>
</head>

<body>

<div class="container">

<!-- HOME -->
<div id="home">
 <div class="card">
  <h1>üéÆ English Game</h1>
  <p>Pilih kategori & jawab soal</p>
  <button class="btn" onclick="openCategories()">‚ñ∂ START</button>
 </div>
</div>

<!-- CATEGORY -->
<div id="categories" class="hidden">
 <h2>Pilih Kategori</h2>
 <div id="categoryList" class="grid"></div>
 <button class="btn dark" onclick="goHome()">‚¨Ö Kembali</button>
</div>

<!-- GAME -->
<div id="game" class="hidden">
 <div class="timer">‚è± <span id="time">10</span></div>
 <div class="card">
  <div id="icon" class="big"></div>
  <h2 id="question"></h2>
 </div>
 <div id="options"></div>
</div>

<!-- GAME OVER -->
<div id="over" class="hidden">
 <div class="card">
  <h1>Game Over</h1>
  <h2 id="finalScore"></h2>
  <button class="btn" onclick="openCategories()">Main Lagi</button>
  <button class="btn dark" onclick="goHome()">Home</button>
 </div>
</div>

</div>

<audio id="correctSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_5c6c8f36fa.mp3"></audio>
<audio id="wrongSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_3a3d6c6aef.mp3"></audio>

<script>
// ================= DATA =================
const categories=[
"animals","food","jobs","sports","transport","home","computer","body",
"music","colors","numbers","letters","hospital","garden","kitchen",
"bathroom","countries","places","things","nature","buildings","subjects"
];

const data={
 animals:[
  ["üê±","kucing","cat"],["üê∂","anjing","dog"],["üêÆ","sapi","cow"],
  ["üêî","ayam","chicken"],["üêü","ikan","fish"]
 ],
 food:[
  ["üçé","apel","apple"],["üçå","pisang","banana"],["üçû","roti","bread"],
  ["üçö","nasi","rice"],["üçó","ayam goreng","fried chicken"]
 ],
 jobs:[
  ["üëÆ","polisi","police"],["üë®‚Äç‚öïÔ∏è","dokter","doctor"],
  ["üë®‚Äçüè´","guru","teacher"],["üë®‚Äçüç≥","koki","chef"]
 ]
};

// isi kategori lain otomatis biar aman
categories.forEach(c=>{
 if(!data[c]){
  data[c]=[
   ["‚ùì","contoh","example"],
   ["‚≠ê","bintang","star"],
   ["üì¶","kotak","box"],
   ["üè†","rumah","house"],
   ["üöó","mobil","car"]
  ];
 }
});

// ================ GAME LOGIC =================
let currentQuestions=[];
let index=0;
let score=0;
let timer;
let time=10;

const home=document.getElementById("home");
const categoriesDiv=document.getElementById("categories");
const game=document.getElementById("game");
const over=document.getElementById("over");

function show(el){
 home.classList.add("hidden");
 categoriesDiv.classList.add("hidden");
 game.classList.add("hidden");
 over.classList.add("hidden");
 el.classList.remove("hidden");
}

function goHome(){clearInterval(timer);show(home);}

function openCategories(){
 show(categoriesDiv);
 const list=document.getElementById("categoryList");
 list.innerHTML="";
 categories.forEach(c=>{
  const b=document.createElement("button");
  b.className="btn";
  b.textContent=c.toUpperCase();
  b.onclick=()=>startGame(c);
  list.appendChild(b);
 });
}

function startGame(cat){
 currentQuestions=[...data[cat]];
 index=0;
 score=0;
 show(game);
 nextQuestion();
}

function nextQuestion(){
 if(index>=currentQuestions.length){
  endGame();
  return;
 }
 const q=currentQuestions[index];
 document.getElementById("icon").textContent=q[0];
 document.getElementById("question").textContent=
  `Apa bahasa Inggris dari "${q[1]}"?`;

 const optionsDiv=document.getElementById("options");
 optionsDiv.innerHTML="";

 let answers=[q[2]];
 while(answers.length<4){
  let r=currentQuestions[Math.random()*currentQuestions.length|0][2];
  if(!answers.includes(r))answers.push(r);
 }
 answers.sort(()=>Math.random()-.5);

 answers.forEach(a=>{
  const div=document.createElement("div");
  div.className="option";
  div.textContent=a;
  div.onclick=()=>checkAnswer(a,q[2],div);
  optionsDiv.appendChild(div);
 });

 startTimer();
}

function checkAnswer(ans,correct,el){
 clearInterval(timer);
 document.querySelectorAll(".option").forEach(o=>o.style.pointerEvents="none");
 if(ans===correct){
  el.classList.add("correct");
  document.getElementById("correctSound").play();
  score+=10;
 }else{
  el.classList.add("wrong");
  document.getElementById("wrongSound").play();
 }
 index++;
 setTimeout(nextQuestion,800);
}

function startTimer(){
 time=10;
 document.getElementById("time").textContent=time;
 timer=setInterval(()=>{
  time--;
  document.getElementById("time").textContent=time;
  if(time<=0){
   clearInterval(timer);
   index++;
   nextQuestion();
  }
 },1000);
}

function endGame(){
 document.getElementById("finalScore").textContent="Score: "+score;
 show(over);
}
</script>

</body>
</html>
