<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Games to Learn English</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial,sans-serif;background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff;text-align:center}
.screen{display:none;padding:20px}
.active{display:block}
button{padding:12px 18px;margin:8px;border:none;border-radius:12px;font-weight:bold;cursor:pointer;background:#fff;color:#333}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:10px}
.option{width:80%;margin:8px auto}
.correct{background:#2ecc71!important;color:#fff}
.wrong{background:#e74c3c!important;color:#fff}
.card{background:rgba(255,255,255,.2);border-radius:20px;padding:20px;width:85%;margin:20px auto}
.big{font-size:90px}
.timer{font-size:22px;font-weight:bold}
</style>
</head>

<body>

<div id="home" class="screen active">
  <h1>üéÆ Games to Learn English</h1>
  <button onclick="openCategories()">Monster Vocab</button>
  <button onclick="openReviewMenu()">Review Mode</button>
</div>

<div id="categories" class="screen">
  <h2>Select Category</h2>
  <div id="categoryList" class="grid"></div>
  <button onclick="goHome()">‚¨Ö Back</button>
</div>

<div id="game" class="screen">
  <div class="timer">‚è± <span id="time">5</span></div>
  <div class="card">
    <div id="icon" class="big"></div>
    <h2 id="question"></h2>
  </div>
  <div id="options"></div>
  <h3 id="score"></h3>
</div>

<div id="over" class="screen">
  <h1>üíÄ Game Over</h1>
  <h2 id="finalScore"></h2>
  <button onclick="retry()">Retry</button>
  <button onclick="goHome()">Stop</button>
</div>

<div id="reviewMenu" class="screen">
  <h2>üìò Review Mode</h2>
  <div id="reviewCategories" class="grid"></div>
  <button onclick="goHome()">‚¨Ö Back</button>
</div>

<div id="reviewPlay" class="screen">
  <button onclick="openReviewMenu()">‚¨Ö</button>
  <button onclick="toggleSound()">üîä</button>
  <div class="card">
    <div id="reviewIcon" class="big"></div>
    <h2 id="reviewText"></h2>
  </div>
  <button onclick="prevReview()">‚¨Ö</button>
  <button onclick="nextReview()">‚û°</button><br><br>
  <button onclick="toggleText()">TEXT ON/OFF</button>
  <button onclick="speak()">üîä SPEAK</button>
</div>

<audio id="correctSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5c6c8f36fa.mp3"></audio>
<audio id="wrongSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_3a3d6c6aef.mp3"></audio>

<script>
/* ================= DATA (22 CATEGORIES) ================= */
const data={
animals:[['üê±','kucing','Cat'],['üê∂','anjing','Dog'],['üêÆ','sapi','Cow'],['üêü','ikan','Fish'],['üê¶','burung','Bird'],['üê¥','kuda','Horse'],['üêî','ayam','Chicken'],['ü¶Ü','bebek','Duck'],['üêç','ular','Snake'],['ü¶Å','singa','Lion'],['üêò','gajah','Elephant'],['üêØ','harimau','Tiger'],['üêµ','monyet','Monkey'],['üêê','kambing','Goat'],['üê∞','kelinci','Rabbit']],
food:[['üçö','nasi','Rice'],['üçé','apel','Apple'],['üçû','roti','Bread'],['üçå','pisang','Banana'],['ü•õ','susu','Milk'],['üßÄ','keju','Cheese'],['ü•ö','telur','Egg'],['üçñ','daging','Meat'],['üçú','mie','Noodles'],['üç∞','kue','Cake'],['üç≤','sup','Soup'],['üçó','ayam','Chicken'],['üç¶','es krim','Ice Cream'],['üçä','jeruk','Orange'],['üêü','ikan','Fish']],
numbers:[['1Ô∏è‚É£','satu','One'],['2Ô∏è‚É£','dua','Two'],['3Ô∏è‚É£','tiga','Three'],['4Ô∏è‚É£','empat','Four'],['5Ô∏è‚É£','lima','Five'],['6Ô∏è‚É£','enam','Six'],['7Ô∏è‚É£','tujuh','Seven'],['8Ô∏è‚É£','delapan','Eight'],['9Ô∏è‚É£','sembilan','Nine'],['üîü','sepuluh','Ten'],['11','sebelas','Eleven'],['12','dua belas','Twelve'],['13','tiga belas','Thirteen'],['14','empat belas','Fourteen'],['15','lima belas','Fifteen']],
sports:[['‚öΩ','sepak bola','Football'],['üèÄ','basket','Basketball'],['üèê','voli','Volleyball'],['üéæ','tenis','Tennis'],['üèä','renang','Swimming'],['üèÉ','lari','Running'],['üè∏','badminton','Badminton'],['ü•ä','tinju','Boxing'],['üèåÔ∏è','golf','Golf'],['üßò','yoga','Yoga'],['üèπ','panahan','Archery'],['üéø','ski','Skiing'],['üèÑ','selancar','Surfing'],['üèãÔ∏è','angkat beban','Weightlifting'],['üèéÔ∏è','balap','Racing']],
jobs:[['üë®‚Äç‚öïÔ∏è','dokter','Doctor'],['üë©‚Äçüè´','guru','Teacher'],['üëÆ','polisi','Police'],['üë®‚Äçüåæ','petani','Farmer'],['‚úàÔ∏è','pilot','Pilot'],['üë©‚Äç‚öïÔ∏è','perawat','Nurse'],['üë®‚Äçüç≥','koki','Chef'],['ü™ñ','tentara','Soldier'],['üèóÔ∏è','arsitek','Architect'],['üé§','penyanyi','Singer'],['üé¨','aktor','Actor'],['‚úçÔ∏è','penulis','Writer'],['üé®','pelukis','Painter'],['üîß','montir','Mechanic'],['üé£','nelayan','Fisherman']],
transport:[['üöó','mobil','Car'],['üèçÔ∏è','motor','Motorcycle'],['üöå','bus','Bus'],['üöÜ','kereta','Train'],['‚úàÔ∏è','pesawat','Airplane'],['üö¢','kapal','Ship'],['üö≤','sepeda','Bicycle'],['üöï','taksi','Taxi'],['üöë','ambulans','Ambulance'],['üöö','truk','Truck'],['üõ∂','perahu','Boat'],['üöÅ','helikopter','Helicopter'],['üöá','metro','Metro'],['üõ¥','skuter','Scooter'],['üöê','van','Van']],
body:[['üëÄ','mata','Eyes'],['üëÇ','telinga','Ear'],['üëÉ','hidung','Nose'],['üëÑ','mulut','Mouth'],['ü¶∑','gigi','Teeth'],['üß†','otak','Brain'],['ü´Ä','jantung','Heart'],['ü¶µ','kaki','Leg'],['ü¶∂','telapak kaki','Foot'],['‚úã','tangan','Hand'],['üí™','lengan','Arm'],['üëÖ','lidah','Tongue'],['üßç','tubuh','Body'],['üßí','kepala','Head'],['üßë‚Äçü¶±','rambut','Hair']],
colors:[['üî¥','merah','Red'],['üîµ','biru','Blue'],['üü°','kuning','Yellow'],['üü¢','hijau','Green'],['‚ö´','hitam','Black'],['‚ö™','putih','White'],['üü£','ungu','Purple'],['üü†','oranye','Orange'],['üü§','coklat','Brown'],['üå∏','pink','Pink'],['üå´Ô∏è','abu-abu','Gray'],['üíõ','emas','Gold'],['ü•à','perak','Silver'],['üî∑','biru muda','Light Blue'],['üî∫','merah muda','Pink']]
};

/* ========== LOGIC (SAMA SEPERTI SEBELUMNYA, STABIL) ========== */
let list=[],i=0,score=0,time=5,timer;
let reviewCat='',reviewIndex=0,showText=true,soundOn=true;

function show(id){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active')}
function goHome(){clearInterval(timer);show('home')}

function openCategories(){
  show('categories');
  categoryList.innerHTML='';
  Object.keys(data).forEach(c=>{
    let b=document.createElement('button');
    b.textContent=c.toUpperCase();
    b.onclick=()=>startGame(c);
    categoryList.appendChild(b);
  });
}

function startGame(c){
  list=[...data[c]];i=0;score=0;
  show('game');nextQ();
}

function nextQ(){
  if(i>=list.length){gameOver();return;}
  let q=list[i];
  icon.textContent=q[0];
  question.textContent=`Apa bahasa Inggris dari "${q[1]}"?`;
  scoreBox();
  let opts=[q[2]];
  while(opts.length<4){
    let r=list[Math.random()*list.length|0][2];
    if(!opts.includes(r))opts.push(r);
  }
  opts.sort(()=>Math.random()-.5);
  options.innerHTML='';
  opts.forEach(o=>{
    let b=document.createElement('button');
    b.className='option';
    b.textContent=o;
    b.onclick=()=>answer(o,q[2],b);
    options.appendChild(b);
  });
  startTimer();
}

function answer(a,c,b){
  clearInterval(timer);
  document.querySelectorAll('.option').forEach(x=>x.disabled=true);
  if(a===c){b.classList.add('correct');if(soundOn)correctSound.play();score+=10}
  else{b.classList.add('wrong');if(soundOn)wrongSound.play()}
  i++;setTimeout(nextQ,700);
}

function startTimer(){
  time=5;timeEl();
  timer=setInterval(()=>{time--;timeEl();if(time<=0){clearInterval(timer);gameOver()}},1000);
}
function timeEl(){timeSpan.textContent=time}
function scoreBox(){scoreEl.textContent='Score: '+score}

function gameOver(){
  clearInterval(timer);
  show('over');
  finalScore.textContent='Score: '+score;
}
function retry(){startGame(Object.keys(data)[0])}

/* REVIEW */
function openReviewMenu(){
  show('reviewMenu');
  reviewCategories.innerHTML='';
  Object.keys(data).forEach(c=>{
    let b=document.createElement('button');
    b.textContent=c.toUpperCase();
    b.onclick=()=>openReview(c);
    reviewCategories.appendChild(b);
  });
}
function openReview(c){
  reviewCat=c;reviewIndex=0;showText=true;
  show('reviewPlay');updateReview();
}
function updateReview(){
  let d=data[reviewCat][reviewIndex];
  reviewIcon.textContent=d[0];
  reviewText.textContent=showText?`${d[1]} = ${d[2]}`:'';
}
function nextReview(){click();reviewIndex=(reviewIndex+1)%data[reviewCat].length;updateReview()}
function prevReview(){click();reviewIndex=(reviewIndex-1+data[reviewCat].length)%data[reviewCat].length;updateReview()}
function toggleText(){showText=!showText;updateReview()}
function toggleSound(){soundOn=!soundOn;alert(soundOn?'Sound ON':'Sound OFF')}
function speak(){
  if(!soundOn)return;
  let u=new SpeechSynthesisUtterance(data[reviewCat][reviewIndex][2]);
  u.lang='en-US';speechSynthesis.speak(u);
}
function click(){
  let a=new AudioContext(),o=a.createOscillator();
  o.frequency.value=600;o.connect(a.destination);o.start();o.stop(a.currentTime+.1);
}
</script>
</body>
</html>
