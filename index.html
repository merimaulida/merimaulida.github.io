<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Games to Learn English</title>

<style>
body{
  margin:0;
  font-family:Segoe UI, sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
  text-align:center;
}
.page{display:none}
.page.active{display:block}
button{
  padding:14px 24px;
  margin:6px;
  border:none;
  border-radius:14px;
  font-size:16px;
  cursor:pointer;
  transition:.2s;
}
button:hover{transform:scale(1.05)}
.menu button{background:#ffcc00;color:#333}
.answer{background:white;color:#333;width:220px}
.correct{background:#4caf50!important;color:white}
.wrong{background:#f44336!important;color:white}
.top{
  display:flex;
  justify-content:space-between;
  padding:10px 20px;
}
.big{font-size:80px}
</style>
</head>

<body>

<!-- MENU -->
<div id="menu" class="page active">
  <h1>üéÆ Games to Learn English</h1>
  <h2>Monster Vocab</h2>
  <button onclick="openLevel()">Start Game</button>
  <button onclick="openReviewMenu()">Review</button>
</div>

<!-- LEVEL -->
<div id="level" class="page">
  <h2>Select Level</h2>
  <button onclick="startGame('easy')">Easy</button>
  <button onclick="startGame('medium')">Medium</button>
  <button onclick="startGame('hard')">Hard</button>
  <br><br>
  <button onclick="backMenu()">‚¨Ö Back</button>
</div>

<!-- GAME -->
<div id="game" class="page">
  <div class="top">
    <span id="timer">‚è± 5</span>
    <span id="score">‚≠ê 0</span>
  </div>
  <div id="icon" class="big"></div>
  <h2 id="question"></h2>
  <div id="answers"></div>
</div>

<!-- GAME OVER -->
<div id="over" class="page">
  <h1>Game Over</h1>
  <h2 id="finalScore"></h2>
  <button onclick="retry()">Retry</button>
  <button onclick="backMenu()">Menu</button>
</div>

<!-- REVIEW MENU -->
<div id="reviewMenu" class="page">
  <h2>Select Review</h2>
  <button onclick="openReview('animals')">Animals</button>
  <button onclick="openReview('numbers')">Numbers</button>
  <button onclick="openReview('body')">Body</button>
  <button onclick="openReview('food')">Food</button>
  <button onclick="openReview('transport')">Transport</button>
  <br><br>
  <button onclick="backMenu()">‚¨Ö Back</button>
</div>

<!-- REVIEW -->
<div id="review" class="page">
  <button onclick="backReview()">‚¨Ö</button>
  <button onclick="nextReview()">‚û°</button>
  <div id="reviewIcon" class="big"></div>
  <h2 id="reviewText"></h2>
  <button onclick="toggleText()">Text ON / OFF</button>
</div>

<script>
/* PAGE */
function show(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

/* SOUND */
function beep(f){
  const c=new AudioContext();
  const o=c.createOscillator();
  o.frequency.value=f;
  o.connect(c.destination);
  o.start();
  o.stop(c.currentTime+.15);
}

/* DATA */
const data={
animals:[
 {id:'kucing',en:'Cat',icon:'üê±'},
 {id:'anjing',en:'Dog',icon:'üê∂'},
 {id:'sapi',en:'Cow',icon:'üêÆ'},
 {id:'ikan',en:'Fish',icon:'üêü'},
 {id:'burung',en:'Bird',icon:'üê¶'}
],
numbers:[
 {id:'satu',en:'One',icon:'1Ô∏è‚É£'},
 {id:'dua',en:'Two',icon:'2Ô∏è‚É£'},
 {id:'tiga',en:'Three',icon:'3Ô∏è‚É£'},
 {id:'empat',en:'Four',icon:'4Ô∏è‚É£'}
],
body:[
 {id:'mata',en:'Eye',icon:'üëÅÔ∏è'},
 {id:'tangan',en:'Hand',icon:'‚úã'},
 {id:'kaki',en:'Foot',icon:'ü¶∂'}
],
food:[
 {id:'nasi',en:'Rice',icon:'üçö'},
 {id:'apel',en:'Apple',icon:'üçé'},
 {id:'roti',en:'Bread',icon:'üçû'}
],
transport:[
 {id:'mobil',en:'Car',icon:'üöó'},
 {id:'pesawat',en:'Plane',icon:'‚úàÔ∏è'},
 {id:'kereta',en:'Train',icon:'üöÜ'}
]
};

let level='',list=[],i=0,score=0,time=5,timer;

/* GAME */
function openLevel(){show('level')}
function startGame(lv){
  level=lv;
  list=Object.values(data).flat();
  shuffle(list);
  i=0;score=0;
  show('game');
  load();
}
function load(){
  if(i>=list.length){end();return}
  clearInterval(timer);
  time=5;
  document.getElementById('timer').innerText='‚è± '+time;
  document.getElementById('score').innerText='‚≠ê '+score;
  const q=list[i];
  document.getElementById('icon').innerText=q.icon;
  document.getElementById('question').innerText=
    'Apa bahasa Inggris dari "'+q.id+'" ?';
  const ans=document.getElementById('answers');
  ans.innerHTML='';
  const opts=shuffle([q.en,...shuffle(list).slice(0,3).map(x=>x.en)]);
  opts.forEach(o=>{
    const b=document.createElement('button');
    b.className='answer';
    b.innerText=o;
    b.onclick=()=>{
      clearInterval(timer);
      if(o===q.en){b.classList.add('correct');score++;beep(700);}
      else{b.classList.add('wrong');beep(200);}
      setTimeout(()=>{i++;load()},400);
    };
    ans.appendChild(b);
  });
  timer=setInterval(()=>{
    time--;document.getElementById('timer').innerText='‚è± '+time;
    if(time===0){clearInterval(timer);end()}
  },1000);
}
function end(){
  document.getElementById('finalScore').innerText=
    'Score: '+score+' / '+list.length;
  show('over');
}
function retry(){startGame(level)}
function backMenu(){show('menu')}

/* REVIEW */
let rcat='',rindex=0,showText=true;
function openReviewMenu(){show('reviewMenu')}
function openReview(c){
  rcat=c;rindex=0;showText=true;
  show('review');updateReview();
}
function updateReview(){
  const d=data[rcat][rindex];
  document.getElementById('reviewIcon').innerText=d.icon;
  document.getElementById('reviewText').innerText=
    showText?`${d.id} = ${d.en}`:'';
}
function nextReview(){rindex=(rindex+1)%data[rcat].length;updateReview()}
function backReview(){rindex=(rindex-1+data[rcat].length)%data[rcat].length;updateReview()}
function toggleText(){showText=!showText;updateReview()}

/* UTIL */
function shuffle(a){return a.sort(()=>Math.random()-.5)}
</script>

</body>
</html>
