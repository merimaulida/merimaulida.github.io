<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>English Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{box-sizing:border-box}
body{
 margin:0;
 font-family:'Segoe UI',sans-serif;
 background:#121212;
 color:#fff;
 min-height:100vh;
}
.screen{display:none;padding:20px}
.active{display:block}

/* ===== ANDROID CARD ===== */
.card{
 background:#1e1e1e;
 border-radius:24px;
 padding:20px;
 margin:20px auto;
 max-width:420px;
 box-shadow:0 10px 25px rgba(0,0,0,.5);
}

/* ===== BUTTON ===== */
.btn{
 width:100%;
 padding:14px;
 margin:8px 0;
 border:none;
 border-radius:18px;
 font-size:16px;
 font-weight:bold;
 background:linear-gradient(135deg,#4facfe,#00f2fe);
 color:#000;
 cursor:pointer;
}
.btn.secondary{
 background:#2c2c2c;
 color:#fff;
}

/* ===== GRID ===== */
.grid{
 display:grid;
 grid-template-columns:repeat(auto-fill,minmax(130px,1fr));
 gap:12px;
 max-width:480px;
 margin:auto;
}

/* ===== GAME ===== */
.big{font-size:90px}
.option{
 background:#2c2c2c;
 padding:14px;
 border-radius:16px;
 margin:6px auto;
 max-width:420px;
 cursor:pointer;
}
.correct{background:#2ecc71;color:#000}
.wrong{background:#e74c3c}
.timer{
 text-align:center;
 font-size:20px;
 margin-top:10px;
}
.topbar{
 display:flex;
 justify-content:space-between;
 align-items:center;
 max-width:420px;
 margin:auto;
}
</style>
</head>

<body>

<!-- HOME -->
<div id="home" class="screen active">
 <div class="card">
  <h1>üéÆ English Game</h1>
  <p>Learn English like an Android game</p>
  <button class="btn" onclick="openCategories()">‚ñ∂ Start Game</button>
  <button class="btn secondary" onclick="openReviewMenu()">üìò Review</button>
 </div>
</div>

<!-- CATEGORIES -->
<div id="categories" class="screen">
 <h2 style="text-align:center">Choose Category</h2>
 <div id="categoryList" class="grid"></div>
 <button class="btn secondary" onclick="goHome()">‚¨Ö Back</button>
</div>

<!-- GAME -->
<div id="game" class="screen">
 <div class="topbar">
  <div class="timer">‚è± <span id="time">5</span></div>
  <div id="score">Score: 0</div>
 </div>
 <div class="card">
  <div id="icon" class="big"></div>
  <h2 id="question"></h2>
 </div>
 <div id="options"></div>
</div>

<!-- GAME OVER -->
<div id="over" class="screen">
 <div class="card">
  <h1>üèÅ Finished</h1>
  <h2 id="finalScore"></h2>
  <button class="btn" onclick="retry()">üîÑ Retry</button>
  <button class="btn secondary" onclick="goHome()">üè† Home</button>
 </div>
</div>

<!-- REVIEW MENU -->
<div id="reviewMenu" class="screen">
 <h2 style="text-align:center">Review Mode</h2>
 <div id="reviewCategories" class="grid"></div>
 <button class="btn secondary" onclick="goHome()">‚¨Ö Back</button>
</div>

<!-- REVIEW -->
<div id="reviewPlay" class="screen">
 <div class="card">
  <div id="reviewIcon" class="big"></div>
  <h2 id="reviewText"></h2>
  <button class="btn" onclick="speak()">üîä Sound</button>
  <button class="btn secondary" onclick="toggleText()">üëÅ Text</button>
 </div>
 <button class="btn secondary" onclick="prevReview()">‚¨Ö</button>
 <button class="btn secondary" onclick="nextReview()">‚û°</button>
</div>

<audio id="correctSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_5c6c8f36fa.mp3"></audio>
<audio id="wrongSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_3a3d6c6aef.mp3"></audio>

<script>
const data={
animals:[['üê±','kucing','Cat'],['üê∂','anjing','Dog'],['üêÆ','sapi','Cow'],['üêü','ikan','Fish'],['üê¶','burung','Bird'],['üê¥','kuda','Horse'],['üêî','ayam','Chicken'],['ü¶Ü','bebek','Duck'],['üêç','ular','Snake'],['ü¶Å','singa','Lion'],['üêò','gajah','Elephant'],['üêØ','harimau','Tiger'],['üêµ','monyet','Monkey'],['üêê','kambing','Goat'],['üê∞','kelinci','Rabbit']],
food:[['üçö','nasi','Rice'],['üçû','roti','Bread'],['üçé','apel','Apple'],['üçå','pisang','Banana'],['ü•õ','susu','Milk'],['üçó','ayam','Chicken'],['üçñ','daging','Meat'],['ü•ö','telur','Egg'],['üçú','mie','Noodles'],['üç∞','kue','Cake'],['üç≤','sup','Soup'],['üßÄ','keju','Cheese'],['üçä','jeruk','Orange'],['üç¶','es krim','Ice Cream'],['üêü','ikan','Fish']],
jobs:[['üëÆ','polisi','Police'],['üë©‚Äçüè´','guru','Teacher'],['üë®‚Äç‚öïÔ∏è','dokter','Doctor'],['üë®‚Äçüç≥','koki','Chef'],['üë∑','tukang','Builder'],['üë®‚Äçüöí','pemadam','Firefighter'],['üë®‚Äçüåæ','petani','Farmer'],['üë®‚Äç‚úàÔ∏è','pilot','Pilot'],['üë©‚Äçüíª','programmer','Programmer'],['üë©‚Äçüé§','penyanyi','Singer'],['üë®‚Äçüé®','pelukis','Painter'],['üßë‚Äçüíº','karyawan','Employee'],['üë®‚Äçüîß','montir','Mechanic'],['üë©‚Äç‚öñÔ∏è','hakim','Judge'],['üë©‚Äç‚úàÔ∏è','pramugari','Flight Attendant']]
};

let q=[],i=0,score=0,time=5,timer;
let reviewCat='',reviewIndex=0,showText=true;

function show(id){
 document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
 document.getElementById(id).classList.add('active');
}
function goHome(){clearInterval(timer);show('home');}

function openCategories(){
 show('categories');
 categoryList.innerHTML='';
 Object.keys(data).forEach(c=>{
  let b=document.createElement('button');
  b.className='btn';
  b.textContent=c.toUpperCase();
  b.onclick=()=>startGame(c);
  categoryList.appendChild(b);
 });
}

function startGame(c){
 q=[...data[c]];i=0;score=0;
 show('game');nextQ();
}

function nextQ(){
 if(i>=q.length){end();return;}
 let d=q[i];
 icon.textContent=d[0];
 question.textContent=`English of "${d[1]}"?`;
 scoreEl.textContent='Score: '+score;

 options.innerHTML='';
 let opts=[d[2]];
 while(opts.length<4){
  let r=q[Math.random()*q.length|0][2];
  if(!opts.includes(r))opts.push(r);
 }
 opts.sort(()=>Math.random()-.5);

 opts.forEach(o=>{
  let b=document.createElement('div');
  b.className='option';
  b.textContent=o;
  b.onclick=()=>answer(o,d[2],b);
  options.appendChild(b);
 });

 startTimer();
}

function answer(a,c,b){
 clearInterval(timer);
 document.querySelectorAll('.option').forEach(x=>x.style.pointerEvents='none');
 if(a===c){b.classList.add('correct');correctSound.play();score+=10;}
 else{b.classList.add('wrong');wrongSound.play();}
 i++;setTimeout(nextQ,700);
}

function startTimer(){
 time=5;timeEl.textContent=time;
 timer=setInterval(()=>{
  time--;timeEl.textContent=time;
  if(time<=0){clearInterval(timer);end();}
 },1000);
}

function end(){
 finalScore.textContent='Score: '+score;
 show('over');
}

function retry(){openCategories();}

/* REVIEW */
function openReviewMenu(){
 show('reviewMenu');
 reviewCategories.innerHTML='';
 Object.keys(data).forEach(c=>{
  let b=document.createElement('button');
  b.className='btn';
  b.textContent=c.toUpperCase();
  b.onclick=()=>openReview(c);
  reviewCategories.appendChild(b);
 });
}
function openReview(c){
 reviewCat=c;reviewIndex=0;showText=true;
 show('reviewPlay');updateReview();
}
function updateReview(){
 let d=data[reviewCat][reviewIndex];
 reviewIcon.textContent=d[0];
 reviewText.textContent=showText?`${d[1]} = ${d[2]}`:'';
}
function nextReview(){reviewIndex=(reviewIndex+1)%data[reviewCat].length;updateReview();}
function prevReview(){reviewIndex=(reviewIndex-1+data[reviewCat].length)%data[reviewCat].length;updateReview();}
function toggleText(){showText=!showText;updateReview();}
function speak(){
 let u=new SpeechSynthesisUtterance(data[reviewCat][reviewIndex][2]);
 u.lang='en-US';speechSynthesis.speak(u);
}
</script>
</body>
</html>
